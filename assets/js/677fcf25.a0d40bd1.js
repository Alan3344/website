"use strict";(self.webpackChunkflet_dev=self.webpackChunkflet_dev||[]).push([[4108],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return f}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),c=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,l=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),s=c(n),m=o,f=s["".concat(p,".").concat(m)]||s[m]||d[m]||l;return n?a.createElement(f,r(r({ref:t},u),{},{components:n})):a.createElement(f,r({ref:t},u))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=n.length,r=new Array(l);r[0]=m;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[s]="string"==typeof e?e:o,r[1]=i;for(var c=2;c<l;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3901:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(7294),o=n(3743),l="tableOfContentsInline_prmo";function r(e){var t=e.toc,n=e.minHeadingLevel,r=e.maxHeadingLevel;return a.createElement("div",{className:l},a.createElement(o.Z,{toc:t,minHeadingLevel:n,maxHeadingLevel:r,className:"table-of-contents",linkClassName:null}))}},3743:function(e,t,n){n.d(t,{Z:function(){return v}});var a=n(7462),o=n(3366),l=n(7294),r=n(6668),i=["parentIndex"];function p(e){var t=e.map((function(e){return Object.assign({},e,{parentIndex:-1,children:[]})})),n=Array(7).fill(-1);t.forEach((function(e,t){var a=n.slice(2,e.level);e.parentIndex=Math.max.apply(Math,a),n[e.level]=t}));var a=[];return t.forEach((function(e){var n=e.parentIndex,l=(0,o.Z)(e,i);n>=0?t[n].children.push(l):a.push(l)})),a}function c(e){var t=e.toc,n=e.minHeadingLevel,a=e.maxHeadingLevel;return t.flatMap((function(e){var t=c({toc:e.children,minHeadingLevel:n,maxHeadingLevel:a});return function(e){return e.level>=n&&e.level<=a}(e)?[Object.assign({},e,{children:t})]:t}))}function u(e){var t=e.getBoundingClientRect();return t.top===t.bottom?u(e.parentNode):t}function s(e,t){var n,a,o=t.anchorTopOffset,l=e.find((function(e){return u(e).top>=o}));return l?function(e){return e.top>0&&e.bottom<window.innerHeight/2}(u(l))?l:null!=(a=e[e.indexOf(l)-1])?a:null:null!=(n=e[e.length-1])?n:null}function d(){var e=(0,l.useRef)(0),t=(0,r.L)().navbar.hideOnScroll;return(0,l.useEffect)((function(){e.current=t?0:document.querySelector(".navbar").clientHeight}),[t]),e}function m(e){var t=(0,l.useRef)(void 0),n=d();(0,l.useEffect)((function(){if(!e)return function(){};var a=e.linkClassName,o=e.linkActiveClassName,l=e.minHeadingLevel,r=e.maxHeadingLevel;function i(){var e=function(e){return Array.from(document.getElementsByClassName(e))}(a),i=function(e){for(var t=e.minHeadingLevel,n=e.maxHeadingLevel,a=[],o=t;o<=n;o+=1)a.push("h"+o+".anchor");return Array.from(document.querySelectorAll(a.join()))}({minHeadingLevel:l,maxHeadingLevel:r}),p=s(i,{anchorTopOffset:n.current}),c=e.find((function(e){return p&&p.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)}));e.forEach((function(e){!function(e,n){n?(t.current&&t.current!==e&&t.current.classList.remove(o),e.classList.add(o),t.current=e):e.classList.remove(o)}(e,e===c)}))}return document.addEventListener("scroll",i),document.addEventListener("resize",i),i(),function(){document.removeEventListener("scroll",i),document.removeEventListener("resize",i)}}),[e,n])}function f(e){var t=e.toc,n=e.className,a=e.linkClassName,o=e.isChild;return t.length?l.createElement("ul",{className:o?void 0:n},t.map((function(e){return l.createElement("li",{key:e.id},l.createElement("a",{href:"#"+e.id,className:null!=a?a:void 0,dangerouslySetInnerHTML:{__html:e.value}}),l.createElement(f,{isChild:!0,toc:e.children,className:n,linkClassName:a}))}))):null}var h=l.memo(f),g=["toc","className","linkClassName","linkActiveClassName","minHeadingLevel","maxHeadingLevel"];function v(e){var t=e.toc,n=e.className,i=void 0===n?"table-of-contents table-of-contents__left-border":n,u=e.linkClassName,s=void 0===u?"table-of-contents__link":u,d=e.linkActiveClassName,f=void 0===d?void 0:d,v=e.minHeadingLevel,k=e.maxHeadingLevel,y=(0,o.Z)(e,g),w=(0,r.L)(),b=null!=v?v:w.tableOfContents.minHeadingLevel,N=null!=k?k:w.tableOfContents.maxHeadingLevel,x=function(e){var t=e.toc,n=e.minHeadingLevel,a=e.maxHeadingLevel;return(0,l.useMemo)((function(){return c({toc:p(t),minHeadingLevel:n,maxHeadingLevel:a})}),[t,n,a])}({toc:t,minHeadingLevel:b,maxHeadingLevel:N});return m((0,l.useMemo)((function(){if(s&&f)return{linkClassName:s,linkActiveClassName:f,minHeadingLevel:b,maxHeadingLevel:N}}),[s,f,b,N])),l.createElement(h,(0,a.Z)({toc:x,className:i,linkClassName:s},y))}},2705:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return c},default:function(){return f},frontMatter:function(){return p},metadata:function(){return u},toc:function(){return d}});var a=n(7462),o=n(3366),l=(n(7294),n(3905)),r=n(3901),i=["components"],p={title:"Create Calculator app in Python with Flet",sidebar_label:"Python - Calculator app",slug:"python-calculator"},c=void 0,u={unversionedId:"tutorials/python-calculator",id:"tutorials/python-calculator",title:"Create Calculator app in Python with Flet",description:"In this tutorial we will show you, step-by-step, how to create a Calculator app in Python using Flet framework and deploy it as a web app. The app is a simple console program, yet it is a multi-platform application with similar to iPhone calculator app UI:",source:"@site/docs/tutorials/python-calculator.md",sourceDirName:"tutorials",slug:"/tutorials/python-calculator",permalink:"/docs/tutorials/python-calculator",draft:!1,editUrl:"https://github.com/flet-dev/website/edit/main/docs/tutorials/python-calculator.md",tags:[],version:"current",frontMatter:{title:"Create Calculator app in Python with Flet",sidebar_label:"Python - Calculator app",slug:"python-calculator"},sidebar:"docs",previous:{title:"Python - To-Do app",permalink:"/docs/tutorials/python-todo"},next:{title:"Python - Trello clone",permalink:"/docs/tutorials/trello-clone"}},s={},d=[{value:"Getting started with Flet",id:"getting-started-with-flet",level:2},{value:"Adding page controls",id:"adding-page-controls",level:2},{value:"Building page layout",id:"building-page-layout",level:2},{value:"Using Container for decoration",id:"using-container-for-decoration",level:3},{value:"Reusable UI components",id:"reusable-ui-components",level:2},{value:"Handling events",id:"handling-events",level:2},{value:"Packaging as a desktop app",id:"packaging-as-a-desktop-app",level:2},{value:"Deploying a web app",id:"deploying-a-web-app",level:2},{value:"Summary",id:"summary",level:2}],m={toc:d};function f(e){var t=e.components,n=(0,o.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"In this tutorial we will show you, step-by-step, how to create a Calculator app in Python using Flet framework and deploy it as a web app. The app is ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/flet-dev/examples/blob/main/python/tutorials/calc/calc.py"},"a simple console program"),", yet it is a multi-platform application with similar to iPhone calculator app UI:"),(0,l.kt)("img",{src:"/img/docs/calc-tutorial/calc-app.gif",className:"screenshot-40"}),(0,l.kt)("p",null,"You can find the live demo ",(0,l.kt)("a",{parentName:"p",href:"https://gallery.flet.dev/calculator/"},"here"),"."),(0,l.kt)("p",null,"In this tutorial, we will cover all of the basic concepts for creating a web app: building a page layout, adding controls, making reusable UI components, handling events, and deployment options."),(0,l.kt)("p",null,"The tutorial consists of the following steps:"),(0,l.kt)(r.Z,{toc:d,maxHeadingLevel:2,mdxType:"TOCInline"}),(0,l.kt)("h2",{id:"getting-started-with-flet"},"Getting started with Flet"),(0,l.kt)("p",null,"To write a Flet web app you don't need to know HTML, CSS or JavaScript, but you do need a basic knowledge of Python and object-oriented programming."),(0,l.kt)("p",null,"Flet requires Python 3.7 or above. To create a web app in Python with Flet, you need to install ",(0,l.kt)("inlineCode",{parentName:"p"},"flet")," module first:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"pip install flet\n")),(0,l.kt)("p",null,"To start, let's create a simple hello-world app."),(0,l.kt)("p",null,"Create ",(0,l.kt)("inlineCode",{parentName:"p"},"hello.py")," with the following contents:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'import flet as ft\n\ndef main(page: ft.Page):\n    page.add(ft.Text(value="Hello, world!"))\n\nft.app(target=main)\n')),(0,l.kt)("p",null,"Run this app and you will see a new window with a greeting:"),(0,l.kt)("img",{src:"/img/docs/tutorial/todo-app-hello-world.png",className:"screenshot-40"}),(0,l.kt)("h2",{id:"adding-page-controls"},"Adding page controls"),(0,l.kt)("p",null,"Now you are ready to create a calculator app."),(0,l.kt)("p",null,"To start, you'll need a ",(0,l.kt)("a",{parentName:"p",href:"/docs/controls/text"},"Text")," control for showing the result of calculation, and a few ",(0,l.kt)("a",{parentName:"p",href:"/docs/controls/elevatedbutton"},"ElevatedButtons")," with all the numbers and actions on them."),(0,l.kt)("p",null,"Create ",(0,l.kt)("inlineCode",{parentName:"p"},"calc.py")," with the following contents:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'import flet as ft\n\n\ndef main(page: ft.Page):\n    page.title = "Calc App"\n    result = ft.Text(value="0")\n\n    page.add(\n        result,\n        ft.ElevatedButton(text="AC"),\n        ft.ElevatedButton(text="+/-"),\n        ft.ElevatedButton(text="%"),\n        ft.ElevatedButton(text="/"),\n        ft.ElevatedButton(text="7"),\n        ft.ElevatedButton(text="8"),\n        ft.ElevatedButton(text="9"),\n        ft.ElevatedButton(text="*"),\n        ft.ElevatedButton(text="4"),\n        ft.ElevatedButton(text="5"),\n        ft.ElevatedButton(text="6"),\n        ft.ElevatedButton(text="-"),\n        ft.ElevatedButton(text="1"),\n        ft.ElevatedButton(text="2"),\n        ft.ElevatedButton(text="3"),\n        ft.ElevatedButton(text="+"),\n        ft.ElevatedButton(text="0"),\n        ft.ElevatedButton(text="."),\n        ft.ElevatedButton(text="="),\n    )\n\n\nft.app(target=main)\n')),(0,l.kt)("p",null,"Run the app and you should see a page like this:"),(0,l.kt)("img",{src:"/img/docs/calc-tutorial/calc-app-1.png",className:"screenshot-10"}),(0,l.kt)("h2",{id:"building-page-layout"},"Building page layout"),(0,l.kt)("p",null,"Now let's arrange the text and buttons in 6 horizontal ",(0,l.kt)("a",{parentName:"p",href:"/docs/controls/row"},"rows"),"."),(0,l.kt)("p",null,"Replace ",(0,l.kt)("inlineCode",{parentName:"p"},"calc.py")," contents with the following:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'import flet as ft\n\n\ndef main(page: ft.Page):\n    page.title = "Calc App"\n    result = ft.Text(value="0")\n\n    page.add(\n        ft.Row(controls=[result]),\n        ft.Row(\n            controls=[\n                ft.ElevatedButton(text="AC"),\n                ft.ElevatedButton(text="+/-"),\n                ft.ElevatedButton(text="%"),\n                ft.ElevatedButton(text="/"),\n            ]\n        ),\n        ft.Row(\n            controls=[\n                ft.ElevatedButton(text="7"),\n                ft.ElevatedButton(text="8"),\n                ft.ElevatedButton(text="9"),\n                ft.ElevatedButton(text="*"),\n            ]\n        ),\n        ft.Row(\n            controls=[\n                ft.ElevatedButton(text="4"),\n                ft.ElevatedButton(text="5"),\n                ft.ElevatedButton(text="6"),\n                ft.ElevatedButton(text="-"),\n            ]\n        ),\n        ft.Row(\n            controls=[\n                ft.ElevatedButton(text="1"),\n                ft.ElevatedButton(text="2"),\n                ft.ElevatedButton(text="3"),\n                ft.ElevatedButton(text="+"),\n            ]\n        ),\n        ft.Row(\n             controls=[\n                ft.ElevatedButton(text="0"),\n                ft.ElevatedButton(text="."),\n                ft.ElevatedButton(text="="),\n            ]\n        ),\n    )\n\n\nft.app(target=main)\n')),(0,l.kt)("p",null,"Run the app and you should see a page like this:"),(0,l.kt)("img",{src:"/img/docs/calc-tutorial/calc-app-2.png",className:"screenshot-40"}),(0,l.kt)("h3",{id:"using-container-for-decoration"},"Using Container for decoration"),(0,l.kt)("p",null,"To add a black background with rounded border around the calculator, we will be using ",(0,l.kt)("a",{parentName:"p",href:"/docs/controls/container"},"Container")," control. Container may decorate only one control, so we will need to wrap all the 6 rows into a single vertical ",(0,l.kt)("a",{parentName:"p",href:"/docs/controls/container"},"Column")," that will be used as the container's ",(0,l.kt)("inlineCode",{parentName:"p"},"content"),":"),(0,l.kt)("img",{src:"/img/docs/calc-tutorial/container-layout.svg",className:"screenshot"}),(0,l.kt)("p",null,"To complete the UI portion of the program, update ",(0,l.kt)("inlineCode",{parentName:"p"},"color")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"size")," properties for the Text, and ",(0,l.kt)("inlineCode",{parentName:"p"},"color")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"bgcolor")," properties for the buttons. For even alignment of the buttons within the rows, we will be using ",(0,l.kt)("inlineCode",{parentName:"p"},"expand")," property as shown on the diagram above.  "),(0,l.kt)("p",null,"Since the program is too long now to be fully included in this tutorial, copy the entire code for this step from ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/flet-dev/examples/blob/main/python/tutorials/calc/calc3.py"},"here"),". Run the app and you should see a page like this:"),(0,l.kt)("img",{src:"/img/docs/calc-tutorial/calc-app.png",className:"screenshot-40"}),(0,l.kt)("p",null,"Just what we wanted!"),(0,l.kt)("h2",{id:"reusable-ui-components"},"Reusable UI components"),(0,l.kt)("p",null,"While you can continue writing your app in the ",(0,l.kt)("inlineCode",{parentName:"p"},"main")," function, the best practice would be to create a reusable UI component. "),(0,l.kt)("p",null,'Imagine you are working on an app header, a side menu, or UI that will be a part of a larger project (for example, at Flet we will be using this Calculator app in a bigger "Gallery" app that will show all the examples for Flet framework). '),(0,l.kt)("p",null,"Even if you can't think of such uses right now, we still recommend creating all your web apps with composability and reusability in mind. "),(0,l.kt)("p",null,"To make a reusable Calc app component, we are going to encapsulate its state and presentation logic in a separate ",(0,l.kt)("inlineCode",{parentName:"p"},"CalculatorApp")," class. Copy the entire code for this step from ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/flet-dev/examples/blob/main/python/tutorials/calc/calc4.py"},"here"),"."),(0,l.kt)("p",null,"Read more about ",(0,l.kt)("a",{parentName:"p",href:"/docs/guides/python/getting-started#user-controls"},"creating user controls"),"."),(0,l.kt)("admonition",{title:"Try something",type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Try adding two ",(0,l.kt)("inlineCode",{parentName:"p"},"CalculatorApp")," components to the page:"),(0,l.kt)("pre",{parentName:"admonition"},(0,l.kt)("code",{parentName:"pre",className:"language-python"},"# create application instance\ncalc1 = CalculatorApp()\ncalc2 = CalculatorApp()\n\n# add application's root control to the page\npage.add(calc1, calc2)\n"))),(0,l.kt)("h2",{id:"handling-events"},"Handling events"),(0,l.kt)("p",null,"Now let's make the calculator do its job. We will be using the same event handler for all the buttons and use ",(0,l.kt)("inlineCode",{parentName:"p"},"data")," property to differentiate between the actions depending on the button clicked. For each ",(0,l.kt)("inlineCode",{parentName:"p"},"ElevatedButton")," control, specify ",(0,l.kt)("inlineCode",{parentName:"p"},"on_click=self.button_clicked")," event and set ",(0,l.kt)("inlineCode",{parentName:"p"},"data")," property equal to button's text, for example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'ft.ElevatedButton(\n    text="AC",\n    bgcolor=ft.colors.BLUE_GREY_100,\n    color=ft.colors.BLACK,\n    expand=1,\n    on_click=self.button_clicked,\n    data="AC",\n)\n')),(0,l.kt)("p",null,"Below is ",(0,l.kt)("inlineCode",{parentName:"p"},"on_click"),' event handler that will reset the Text value when "AC" button is clicked:'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},'def button_clicked(self, e):\n    if e.data == "AC":\n        self.result.value = "0"\n')),(0,l.kt)("p",null,"With similar approach, specify ",(0,l.kt)("inlineCode",{parentName:"p"},"on_click")," event and ",(0,l.kt)("inlineCode",{parentName:"p"},"data")," property for each button and add expected action to the ",(0,l.kt)("inlineCode",{parentName:"p"},"button_clicked")," event handler depending on ",(0,l.kt)("inlineCode",{parentName:"p"},"e.data")," value. Copy the entire code for this step from ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/flet-dev/examples/blob/main/python/tutorials/calc/calc.py"},"here"),"."),(0,l.kt)("p",null,"Run the app and see it in the action:"),(0,l.kt)("img",{src:"/img/docs/calc-tutorial/calc-app.gif",className:"screenshot-40"}),(0,l.kt)("h2",{id:"packaging-as-a-desktop-app"},"Packaging as a desktop app"),(0,l.kt)("p",null,"Congratulations! You have created your Calculator app with Flet, and it looks awesome! Now it's time to share your app with the world!"),(0,l.kt)("p",null,"Flet Python app and all its dependencies can be packaged into an executable and user can run it on their computer without installing a Python interpreter or any modules."),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/docs/guides/python/getting-started#packaging-a-desktop-app"},"Follow these instructions")," to package your Calculator app into an executable."),(0,l.kt)("h2",{id:"deploying-a-web-app"},"Deploying a web app"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/docs/guides/python/getting-started#deploying-a-web-app"},"Follow these instructions")," to deploy your Flet app as a web app to Fly.io or Replit."),(0,l.kt)("h2",{id:"summary"},"Summary"),(0,l.kt)("p",null,"In this tutorial you have learned how to:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Create a simple Flet app;"),(0,l.kt)("li",{parentName:"ul"},"Work with Reusable UI components;"),(0,l.kt)("li",{parentName:"ul"},"Design UI layout using ",(0,l.kt)("inlineCode",{parentName:"li"},"Column"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"Row")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"Container")," controls;"),(0,l.kt)("li",{parentName:"ul"},"Handle events;"),(0,l.kt)("li",{parentName:"ul"},"Package your Flet app into an executable;"),(0,l.kt)("li",{parentName:"ul"},"Deploy your Flet app to the web;")),(0,l.kt)("p",null,"For further reading you can explore ",(0,l.kt)("a",{parentName:"p",href:"/docs/controls"},"controls")," and ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/flet-dev/examples/tree/main/python"},"examples repository"),"."),(0,l.kt)("p",null,"We would love to hear your feedback! Please drop us an ",(0,l.kt)("a",{parentName:"p",href:"mailto:hello@flet.dev"},"email"),", join the discussion on ",(0,l.kt)("a",{parentName:"p",href:"https://discord.gg/dzWXP8SHG8"},"Discord"),", follow on ",(0,l.kt)("a",{parentName:"p",href:"https://twitter.com/fletdev"},"Twitter"),"."))}f.isMDXComponent=!0}}]);
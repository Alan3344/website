"use strict";(self.webpackChunkflet_dev=self.webpackChunkflet_dev||[]).push([[8218],{3905:function(e,t,l){l.d(t,{Zo:function(){return d},kt:function(){return m}});var n=l(7294);function i(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function a(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,n)}return l}function r(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?a(Object(l),!0).forEach((function(t){i(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):a(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function o(e,t){if(null==e)return{};var l,n,i=function(e,t){if(null==e)return{};var l,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)l=a[n],t.indexOf(l)>=0||(i[l]=e[l]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)l=a[n],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(i[l]=e[l])}return i}var u=n.createContext({}),p=function(e){var t=n.useContext(u),l=t;return e&&(l="function"==typeof e?e(t):r(r({},t),e)),l},d=function(e){var t=p(e.components);return n.createElement(u.Provider,{value:t},e.children)},c="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var l=e.components,i=e.mdxType,a=e.originalType,u=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=p(l),k=i,m=c["".concat(u,".").concat(k)]||c[k]||s[k]||a;return l?n.createElement(m,r(r({ref:t},d),{},{components:l})):n.createElement(m,r({ref:t},d))}));function m(e,t){var l=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=l.length,r=new Array(a);r[0]=k;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o[c]="string"==typeof e?e:i,r[1]=o;for(var p=2;p<a;p++)r[p]=l[p];return n.createElement.apply(null,r)}return n.createElement.apply(null,l)}k.displayName="MDXCreateElement"},5162:function(e,t,l){l.d(t,{Z:function(){return r}});var n=l(7294),i=l(6010),a="tabItem_Ymn6";function r(e){var t=e.children,l=e.hidden,r=e.className;return n.createElement("div",{role:"tabpanel",className:(0,i.Z)(a,r),hidden:l},t)}},4866:function(e,t,l){l.d(t,{Z:function(){return y}});var n=l(7462),i=l(7294),a=l(6010),r=l(2466),o=l(6550),u=l(1980),p=l(7392),d=l(12);function c(e){return function(e){var t,l;return null!=(t=null==(l=i.Children.map(e,(function(e){if(!e||(0,i.isValidElement)(e)&&(t=e.props)&&"object"==typeof t&&"value"in t)return e;var t;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:l.filter(Boolean))?t:[]}(e).map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes,default:t.default}}))}function s(e){var t=e.values,l=e.children;return(0,i.useMemo)((function(){var e=null!=t?t:c(l);return function(e){var t=(0,p.l)(e,(function(e,t){return e.value===t.value}));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,l])}function k(e){var t=e.value;return e.tabValues.some((function(e){return e.value===t}))}function m(e){var t=e.queryString,l=void 0!==t&&t,n=e.groupId,a=(0,o.k6)(),r=function(e){var t=e.queryString,l=void 0!==t&&t,n=e.groupId;if("string"==typeof l)return l;if(!1===l)return null;if(!0===l&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:l,groupId:n});return[(0,u._X)(r),(0,i.useCallback)((function(e){if(r){var t=new URLSearchParams(a.location.search);t.set(r,e),a.replace(Object.assign({},a.location,{search:t.toString()}))}}),[r,a])]}function f(e){var t,l,n,a,r=e.defaultValue,o=e.queryString,u=void 0!==o&&o,p=e.groupId,c=s(e),f=(0,i.useState)((function(){return function(e){var t,l=e.defaultValue,n=e.tabValues;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(l){if(!k({value:l,tabValues:n}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+l+'" but none of its children has the corresponding value. Available values are: '+n.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return l}var i=null!=(t=n.find((function(e){return e.default})))?t:n[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:r,tabValues:c})})),v=f[0],N=f[1],h=m({queryString:u,groupId:p}),g=h[0],b=h[1],_=(t=function(e){return e?"docusaurus.tab."+e:null}({groupId:p}.groupId),l=(0,d.Nk)(t),n=l[0],a=l[1],[n,(0,i.useCallback)((function(e){t&&a.set(e)}),[t,a])]),y=_[0],C=_[1],w=function(){var e=null!=g?g:y;return k({value:e,tabValues:c})?e:null}();return(0,i.useLayoutEffect)((function(){w&&N(w)}),[w]),{selectedValue:v,selectValue:(0,i.useCallback)((function(e){if(!k({value:e,tabValues:c}))throw new Error("Can't select invalid tab value="+e);N(e),b(e),C(e)}),[b,C,c]),tabValues:c}}var v=l(2389),N="tabList__CuJ",h="tabItem_LNqP";function g(e){var t=e.className,l=e.block,o=e.selectedValue,u=e.selectValue,p=e.tabValues,d=[],c=(0,r.o5)().blockElementScrollPositionUntilNextRender,s=function(e){var t=e.currentTarget,l=d.indexOf(t),n=p[l].value;n!==o&&(c(t),u(n))},k=function(e){var t,l=null;switch(e.key){case"Enter":s(e);break;case"ArrowRight":var n,i=d.indexOf(e.currentTarget)+1;l=null!=(n=d[i])?n:d[0];break;case"ArrowLeft":var a,r=d.indexOf(e.currentTarget)-1;l=null!=(a=d[r])?a:d[d.length-1]}null==(t=l)||t.focus()};return i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":l},t)},p.map((function(e){var t=e.value,l=e.label,r=e.attributes;return i.createElement("li",(0,n.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:function(e){return d.push(e)},onKeyDown:k,onClick:s},r,{className:(0,a.Z)("tabs__item",h,null==r?void 0:r.className,{"tabs__item--active":o===t})}),null!=l?l:t)})))}function b(e){var t=e.lazy,l=e.children,n=e.selectedValue,a=(Array.isArray(l)?l:[l]).filter(Boolean);if(t){var r=a.find((function(e){return e.props.value===n}));return r?(0,i.cloneElement)(r,{className:"margin-top--md"}):null}return i.createElement("div",{className:"margin-top--md"},a.map((function(e,t){return(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==n})})))}function _(e){var t=f(e);return i.createElement("div",{className:(0,a.Z)("tabs-container",N)},i.createElement(g,(0,n.Z)({},e,t)),i.createElement(b,(0,n.Z)({},e,t)))}function y(e){var t=(0,v.Z)();return i.createElement(_,(0,n.Z)({key:String(t)},e))}},7426:function(e,t,l){l.r(t),l.d(t,{assets:function(){return s},contentTitle:function(){return d},default:function(){return f},frontMatter:function(){return p},metadata:function(){return c},toc:function(){return k}});var n=l(7462),i=l(3366),a=(l(7294),l(3905)),r=l(4866),o=l(5162),u=["components"],p={title:"FilePicker",sidebar_label:"FilePicker",slug:"filepicker"},d=void 0,c={unversionedId:"controls/filepicker",id:"controls/filepicker",title:"FilePicker",description:"\u4e00\u4e2a\u63a7\u4ef6\uff0c\u8be5\u63a7\u4ef6\u5141\u8bb8\u60a8\u4f7f\u7528\u672c\u673a\u6587\u4ef6\u8d44\u6e90\u7ba1\u7406\u5668\u9009\u62e9\u5355\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\uff0c\u5e76\u5177\u6709\u6269\u5c55\u7a0b\u5e8f\u8fc7\u6ee4\u652f\u6301\u548c\u4e0a\u4f20\u3002",source:"@site/docs/controls/filepicker.md",sourceDirName:"controls",slug:"/controls/filepicker",permalink:"/website/docs/controls/filepicker",draft:!1,editUrl:"https://github.com/flet-dev/website/edit/main/docs/controls/filepicker.md",tags:[],version:"current",frontMatter:{title:"FilePicker",sidebar_label:"FilePicker",slug:"filepicker"},sidebar:"docs",previous:{title:"DragTarget",permalink:"/website/docs/controls/dragtarget"},next:{title:"GestureDetector",permalink:"/website/docs/controls/gesturedetector"}},s={},k=[{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u9009\u62e9\u591a\u4e2a\u6587\u4ef6",id:"\u9009\u62e9\u591a\u4e2a\u6587\u4ef6",level:3},{value:"\u6240\u6709\u5bf9\u8bdd\u6a21\u5f0f",id:"\u6240\u6709\u5bf9\u8bdd\u6a21\u5f0f",level:3},{value:"\u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6",id:"\u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6",level:3},{value:"properties",id:"properties",level:2},{value:"<code>allowed_extensions</code>",id:"allowed_extensions",level:3},{value:"<code>allow_multiple</code>",id:"allow_multiple",level:3},{value:"<code>dialog_title</code>",id:"dialog_title",level:3},{value:"<code>file_name</code>",id:"file_name",level:3},{value:"<code>file_type</code>",id:"file_type",level:3},{value:"<code>initial_directory</code>\u7684\u6269\u5c55\u540d\u7684\u6587\u4ef6",id:"initial_directory\u7684\u6269\u5c55\u540d\u7684\u6587\u4ef6",level:3},{value:"<code>result</code>",id:"result",level:3},{value:"\u65b9\u6cd5",id:"\u65b9\u6cd5",level:2},{value:"<code>get_directory_path()</code>",id:"get_directory_path",level:3},{value:"<code>pick_files()</code>",id:"pick_files",level:3},{value:"<code>save_file()</code>",id:"save_file",level:3},{value:"<code>upload()</code>",id:"upload",level:3},{value:"\u4e8b\u4ef6",id:"\u4e8b\u4ef6",level:2},{value:"<code>on_result</code>",id:"on_result",level:3},{value:"<code>on_upload</code>",id:"on_upload",level:3}],m={toc:k};function f(e){var t=e.components,l=(0,i.Z)(e,u);return(0,a.kt)("wrapper",(0,n.Z)({},m,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"\u4e00\u4e2a\u63a7\u4ef6\uff0c\u8be5\u63a7\u4ef6\u5141\u8bb8\u60a8\u4f7f\u7528\u672c\u673a\u6587\u4ef6\u8d44\u6e90\u7ba1\u7406\u5668\u9009\u62e9\u5355\u4e2a\u6216\u591a\u4e2a\u6587\u4ef6\uff0c\u5e76\u5177\u6709\u6269\u5c55\u7a0b\u5e8f\u8fc7\u6ee4\u652f\u6301\u548c\u4e0a\u4f20\u3002"),(0,a.kt)("h2",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://flet-controls-gallery.fly.dev/utility/filepicker"},"live \u793a\u4f8b")),(0,a.kt)("h3",{id:"\u9009\u62e9\u591a\u4e2a\u6587\u4ef6"},"\u9009\u62e9\u591a\u4e2a\u6587\u4ef6"),(0,a.kt)(r.Z,{groupId:"language",mdxType:"Tabs"},(0,a.kt)(o.Z,{value:"python",label:"Python",default:!0,mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'import flet as ft\n\ndef main(page: ft.Page):\n    def pick_files_result(e: ft.FilePickerResultEvent):\n        selected_files.value = (\n            ", ".join(map(lambda f: f.name, e.files)) if e.files else "Cancelled!"\n        )\n        selected_files.update()\n\n    pick_files_dialog = ft.FilePicker(on_result=pick_files_result)\n    selected_files = ft.Text()\n\n    page.overlay.append(pick_files_dialog)\n\n    page.add(\n        ft.Row(\n            [\n                ft.ElevatedButton(\n                    "Pick files",\n                    icon=ft.icons.UPLOAD_FILE,\n                    on_click=lambda _: pick_files_dialog.pick_files(\n                        allow_multiple=True\n                    ),\n                ),\n                selected_files,\n            ]\n        )\n    )\n\nft.app(target=main)\n')))),(0,a.kt)("h3",{id:"\u6240\u6709\u5bf9\u8bdd\u6a21\u5f0f"},"\u6240\u6709\u5bf9\u8bdd\u6a21\u5f0f"),(0,a.kt)("img",{src:"/website/img/docs/controls/file-picker/file-picker-all-modes-demo.png",className:"screenshot-70"}),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/flet-dev/examples/blob/main/python/controls/file-picker/file-picker-all-modes.py"},"\u6e90\u4ee3\u7801")),(0,a.kt)("h3",{id:"\u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6"},"\u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6"),(0,a.kt)("img",{src:"/website/img/docs/controls/file-picker/file-picker-multiple-uploads.png",className:"screenshot-40"}),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/flet-dev/examples/blob/main/python/controls/file-picker/file-picker-upload-progress.py"},"\u6e90\u4ee3\u7801")),(0,a.kt)("h2",{id:"properties"},"properties"),(0,a.kt)("h3",{id:"allowed_extensions"},(0,a.kt)("inlineCode",{parentName:"h3"},"allowed_extensions")),(0,a.kt)("p",null,"\u5141\u8bb8\u4ec5\u4f7f\u7528\u6307\u5b9a\u7684\u6269\u5c55\u540d\u9009\u62e9\u6587\u4ef6\u3002"),(0,a.kt)("p",null,"\u8be5\u5c5e\u6027\u7684\u4ef7\u503c\u662f\u5b57\u7b26\u4e32\u5217\u8868\uff0c\u4f8b\u5982 ",(0,a.kt)("inlineCode",{parentName:"p"},'["pdf", "svg", "jpg"]'),"\u3002"),(0,a.kt)("h3",{id:"allow_multiple"},(0,a.kt)("inlineCode",{parentName:"h3"},"allow_multiple")),(0,a.kt)("p",null,"\u5141\u8bb8\u9009\u62e9\u591a\u4e2a\u6587\u4ef6\u3002"),(0,a.kt)("h3",{id:"dialog_title"},(0,a.kt)("inlineCode",{parentName:"h3"},"dialog_title")),(0,a.kt)("p",null,"\u53ef\u4ee5\u9009\u62e9\u5728\u684c\u9762\u5e73\u53f0\u4e0a\u8bbe\u7f6e\u4ee5\u8bbe\u7f6e\u6a21\u5f0f\u7a97\u53e3\u6807\u9898\u3002 \u5b83\u5c06\u5728\u5176\u4ed6\u5e73\u53f0\u4e0a\u5ffd\u7565\u3002"),(0,a.kt)("h3",{id:"file_name"},(0,a.kt)("inlineCode",{parentName:"h3"},"file_name")),(0,a.kt)("p",null,"\u4ec5\u7528\u4e8e\u201c\u4fdd\u5b58\u6587\u4ef6\u201d\u5bf9\u8bdd\u6846\u3002 \u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u975e\u7a7a\u5b57\u7b26\u4e32\u4ee5\u63d0\u4f9b\u9ed8\u8ba4\u6587\u4ef6\u540d\u3002"),(0,a.kt)("h3",{id:"file_type"},(0,a.kt)("inlineCode",{parentName:"h3"},"file_type")),(0,a.kt)("p",null,"\u5141\u8bb8\u9009\u62e9\u7279\u5b9a\u7ec4\u7684\u6587\u4ef6\u3002"),(0,a.kt)("p",null,"\u5c5e\u6027\u503c\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"FilePickerFileType"),"\u679a\u4e3e\uff0c\u5177\u6709\u4ee5\u4e0b\u503c:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"ANY"),"\uff08\u9ed8\u8ba4\uff09 - \u4efb\u4f55\u6587\u4ef6"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"IMAGE")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"VIDEO")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"MEDIA")," - ",(0,a.kt)("inlineCode",{parentName:"li"},"VIDEO"),"\u548c",(0,a.kt)("inlineCode",{parentName:"li"},"IMAGE")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"AUDIO")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"CUSTOM")," - \u4ec5\u6765\u81ea",(0,a.kt)("inlineCode",{parentName:"li"},"allowed_extensions")," list")),(0,a.kt)("h3",{id:"initial_directory\u7684\u6269\u5c55\u540d\u7684\u6587\u4ef6"},(0,a.kt)("inlineCode",{parentName:"h3"},"initial_directory"),"\u7684\u6269\u5c55\u540d\u7684\u6587\u4ef6"),(0,a.kt)("p",null,"\u53ef\u4ee5\u9009\u62e9\u5c06\u5176\u8bbe\u7f6e\u4e3a\u7edd\u5bf9\u8def\u5f84\uff0c\u4ee5\u6307\u5b9a\u5bf9\u8bdd\u6846\u5e94\u6253\u5f00\u7684\u4f4d\u7f6e\u3002 \u4ec5\u5728 Linux\uff0cMacOS \u548c Windows \u4e0a\u652f\u6301\u3002"),(0,a.kt)("h3",{id:"result"},(0,a.kt)("inlineCode",{parentName:"h3"},"result")),(0,a.kt)("p",null,"\u5bf9\u8bdd\u6846\u5173\u95ed\u65f6\uff0c\u5c06\u8bbe\u7f6e\u7ed3\u679c\u3002"),(0,a.kt)("p",null,"\u8be5\u5c5e\u6027\u7684\u503c\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"FilePickerResultEvent"),"\u7c7b\u7684\u5b9e\u4f8b:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"path")," - \u201c\u4fdd\u5b58\u6587\u4ef6\u201d\u6216\u201c get Directory Path\u201d\u5bf9\u8bdd\u6846\u7684\u7ed3\u679c: \u6240\u9009\u7684\u6587\u4ef6\u8def\u5f84\u6216\u76ee\u5f55\u8def\u5f84\u3002 ",(0,a.kt)("inlineCode",{parentName:"li"},"None"),"\u5982\u679c\u53d6\u6d88\u5bf9\u8bdd\u6846\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"files"),"\u201c\u9009\u62e9\u6587\u4ef6\u201d\u5bf9\u8bdd\u6846\u7684\u7ed3\u679c: ",(0,a.kt)("inlineCode",{parentName:"li"},"FilePickerFile"),"\u7c7b\u5b9e\u4f8b\u7684\u5217\u8868\u3002 ",(0,a.kt)("inlineCode",{parentName:"li"},"None"),"\u5982\u679c\u53d6\u6d88\u5bf9\u8bdd\u6846\u3002")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"FilePickerFile"),"\u7c7b\u5c5e\u6027:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"name")," - \u6ca1\u6709\u8def\u5f84\u7684\u6587\u4ef6\u540d\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"path")," - \u6587\u4ef6\u7684\u5b8c\u6574\u8def\u5f84\u3002 \u4ec5\u9002\u7528\u4e8e\u684c\u9762\u548c\u79fb\u52a8\u8bbe\u5907\u3002 ",(0,a.kt)("inlineCode",{parentName:"li"},"None"),"\u5728 Web \u4e0a\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"size")," - \u5b57\u8282\u4e2d\u7684\u6587\u4ef6\u5927\u5c0f\u3002")),(0,a.kt)("h2",{id:"\u65b9\u6cd5"},"\u65b9\u6cd5"),(0,a.kt)("h3",{id:"get_directory_path"},(0,a.kt)("inlineCode",{parentName:"h3"},"get_directory_path()")),(0,a.kt)("p",null,"\u9009\u62e9\u4e00\u4e2a\u76ee\u5f55\u5e76\u8fd4\u56de\u5176\u7edd\u5bf9\u8def\u5f84\u3002"),(0,a.kt)("p",null,"\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u4ee5\u4e0b\u6587\u4ef6\u62fe\u53d6\u5668\u5c5e\u6027\u6216\u5728\u65b9\u6cd5\u8c03\u7528\u4e2d\u63d0\u4f9b\u5176\u503c:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"dialog_title")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"initial_directory"))),(0,a.kt)("h3",{id:"pick_files"},(0,a.kt)("inlineCode",{parentName:"h3"},"pick_files()")),(0,a.kt)("p",null,"\u4ece\u57fa\u7840\u5e73\u53f0\u68c0\u7d22\u6587\u4ef6\u3002"),(0,a.kt)("p",null,"\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u4ee5\u4e0b\u6587\u4ef6\u62fe\u53d6\u5668\u5c5e\u6027\u6216\u5728\u65b9\u6cd5\u8c03\u7528\u4e2d\u63d0\u4f9b\u5176\u503c:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"dialog_title")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"initial_directory")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"file_type")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"allowed_extensions")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"allow_multiple"))),(0,a.kt)("h3",{id:"save_file"},(0,a.kt)("inlineCode",{parentName:"h3"},"save_file()")),(0,a.kt)("p",null,"\u6253\u5f00\u4e00\u4e2a\u4fdd\u5b58\u6587\u4ef6\u5bf9\u8bdd\u6846\uff0c\u8be5\u5bf9\u8bdd\u6846\u8ba9\u7528\u6237\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u8def\u5f84\u548c\u4e00\u4e2a\u6587\u4ef6\u540d\u6765\u4fdd\u5b58\u6587\u4ef6\u3002"),(0,a.kt)("p",null,"\u6b64\u529f\u80fd\u5b9e\u9645\u4e0a\u5e76\u672a\u4fdd\u5b58\u6587\u4ef6\u3002 \u5b83\u4ec5\u6253\u5f00\u5bf9\u8bdd\u6846\uff0c\u8ba9\u7528\u6237\u9009\u62e9\u4f4d\u7f6e\u548c\u6587\u4ef6\u540d\u3002 \u6b64\u529f\u80fd\u4ec5\u8fd4\u56de",(0,a.kt)("inlineCode",{parentName:"p"},"FilePicker.result.path"),"\u5c5e\u6027\u4e2d\u7684\u6b64\uff08\u4e0d\u5b58\u5728\u7684\uff09\u6587\u4ef6\u7684\u8def\u5f84\u3002"),(0,a.kt)("p",null,"\u6b64\u65b9\u6cd5\u4ec5\u5728\u684c\u9762\u5e73\u53f0\uff08Linux\uff0cMacOS \u548c Windows\uff09\u4e0a\u53ef\u7528\u3002"),(0,a.kt)("p",null,"\u60a8\u53ef\u4ee5\u8bbe\u7f6e\u4ee5\u4e0b\u6587\u4ef6\u62fe\u53d6\u5668\u5c5e\u6027\u6216\u5728\u65b9\u6cd5\u8c03\u7528\u4e2d\u63d0\u4f9b\u5176\u503c:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"dialog_title")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"file_name")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"initial_directory")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"file_type")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"allowed_extensions"))),(0,a.kt)("h3",{id:"upload"},(0,a.kt)("inlineCode",{parentName:"h3"},"upload()")),(0,a.kt)("p",null,"\u5c06\u9009\u5b9a\u7684\u6587\u4ef6\u4e0a\u4f20\u5230\u6307\u5b9a\u7684\u4e0a\u4f20 URL\u3002"),(0,a.kt)("p",null,"\u5728\u8c03\u7528\u4e0a\u8f7d",(0,a.kt)("a",{parentName:"p",href:"#pick_files"},(0,a.kt)("inlineCode",{parentName:"a"},"pick_files()")),"\u4e4b\u524d\uff0c\u5fc5\u987b\u8c03\u7528\u5185\u90e8\u6587\u4ef6\u9009\u62e9\u5668\u9009\u62e9\u4e0d\u662f\u7a7a\u7684\u3002"),(0,a.kt)("p",null,"\u65b9\u6cd5\u53c2\u6570:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"files")," - ",(0,a.kt)("inlineCode",{parentName:"li"},"FilePickerUploadFile"),"\u7c7b\u5b9e\u4f8b\u7684\u5217\u8868\u3002")),(0,a.kt)("p",null,"\u6bcf\u4e2a\u5217\u8868\u9879\u76ee\u6307\u5b9a\u5e94\u4f7f\u7528",(0,a.kt)("inlineCode",{parentName:"p"},"PUT"),"\uff08\u9ed8\u8ba4\uff09\u6216",(0,a.kt)("inlineCode",{parentName:"p"},"POST"),"\u65b9\u6cd5\u4e0a\u4f20\u5230\u4e0a\u4f20 URL \u7684\u6587\u4ef6\u3002"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"name")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"upload_url")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"method"),"\uff08",(0,a.kt)("inlineCode",{parentName:"li"},"PUT"),"\uff08\u9ed8\u8ba4\uff09\uff0c",(0,a.kt)("inlineCode",{parentName:"li"},"POST"),"\uff09")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"upload_url"),"\u901a\u5e38\u662f\u4e00\u4e2a\u9884\u5148\u7684 URL\uff08\u4f8b\u5982",(0,a.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/PresignedUrlUploadObject.html"},"AWS S3 \u5bf9\u8c61\u4e0a\u4f20 URL"),"\uff09\u3002"),(0,a.kt)("p",null,"\u5bf9\u4e8e\u5185\u7f6e\u7684\u4e0a\u4f20\u5b58\u50a8\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u8c03\u7528\u6765\u751f\u6210\u5df2\u7b7e\u540d\u7684\u4e0a\u4f20 URL:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'upload_url = page.get_upload_url("dir/filename.ext", 60)\n')),(0,a.kt)("p",null,"\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u4e0e\u4e0a\u4f20\u5b58\u50a8\u8def\u5f84\u76f8\u5bf9\u7684\u3002\n\u7b2c\u4e8c\u4e2a\u8bba\u70b9\u662f\u5728\u51e0\u79d2\u949f\u5185\u4f7f\u7528\u7684 URL \u65f6\u95f4\u3002"),(0,a.kt)("p",null,"\u8981\u542f\u7528\u5185\u7f6e\u7684\u4e0a\u4f20\u5b58\u50a8\uff0c\u5c06",(0,a.kt)("inlineCode",{parentName:"p"},"upload_dir"),"\u7684\u53c2\u6570\u63d0\u4f9b\u7ed9",(0,a.kt)("inlineCode",{parentName:"p"},"flet.app()"),"\u8c03\u7528:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'ft.app(target=main, upload_dir="uploads")\n')),(0,a.kt)("h2",{id:"\u4e8b\u4ef6"},"\u4e8b\u4ef6"),(0,a.kt)("h3",{id:"on_result"},(0,a.kt)("inlineCode",{parentName:"h3"},"on_result")),(0,a.kt)("p",null,"\u5173\u95ed\u6587\u4ef6\u9009\u62e9\u5668\u5bf9\u8bdd\u6846\u65f6\u53d1\u5c04\u3002"),(0,a.kt)("p",null,"\u4e8b\u4ef6\u5bf9\u8c61\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"FilePickerResultEvent"),"\u7c7b\u7684\u5b9e\u4f8b\u3002 \u6709\u5173\u7c7b\u5c5e\u6027\uff0c\u8bf7\u53c2\u89c1",(0,a.kt)("a",{parentName:"p",href:"#result"},(0,a.kt)("inlineCode",{parentName:"a"},"FilePicker.result")),"\u3002"),(0,a.kt)("h3",{id:"on_upload"},(0,a.kt)("inlineCode",{parentName:"h3"},"on_upload")),(0,a.kt)("p",null,"\u5f53\u6587\u4ef6\u4e0a\u4f20\u8fdb\u5ea6\u66f4\u65b0\u65f6\uff0c\u542f\u52a8\u3002"),(0,a.kt)("p",null,"\u4e8b\u4ef6\u5bf9\u8c61\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"FilePickerUploadEvent"),"\u7c7b\u7684\u5b9e\u4f8b:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"file_name")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"progress")," - \u4e00\u4e2a\u4ece",(0,a.kt)("inlineCode",{parentName:"li"},"0.0"),"\u5230",(0,a.kt)("inlineCode",{parentName:"li"},"1.0"),"\u7684\u503c\u3002"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"error"))))}f.isMDXComponent=!0}}]);
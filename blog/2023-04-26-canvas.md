---
slug: canvas
title: Canvas
author: Feodor Fitsner
author_title: Flet founder and developer
author_url: https://github.com/FeodorFitsner
author_image_url: https://avatars0.githubusercontent.com/u/5041459?s=400&v=4
tags: [releases]
---

释放您的内部艺术家 🧑‍🎨，并用全新的[canvas](/docs/controls/canvas)控件提高您的 Flet 创造力，刚刚在[{Flet 0.6.0](https://pypi.org/project/flet/)中发布！

帆布使您可以使用一组原语或“形状”（例如线，圆，弧，路径和文本）绘制任意图形。 我敢打赌，您甚至可以使用 Canvas Control 实现自己的[图表](/blog/flet-charts)版本！

将画布与[getureTeTector](/docs/controls/gesturedetector)相结合，您将获得一个自由手绘图应用程序 - Flet 刷子 😀！

<img src="/img/docs/controls/canvas/canvas-flet-brush.gif" className="screenshot-70 screenshot-rounded"/>

[示例源](https://github.com/flet-dev/examples/blob/main/python/controls/canvas/canvas-flet-brush.py)

`Canvas`控制位于`flet.canvas`软件包中。 您需要另一个导入才能使用它:

```python
import flet.canvas as cv
```

这是一个简单的程序，用[`Circle`](/docs/controls/canvas#circle-shape-properties)和[`Arc`](/docs/controls/canvas#arc-shape-properties)形状使用填充和 stroke [`Paint`](/docs/controls/canvas#paint-properties):

```python
import math
import flet as ft
import flet.canvas as cv

def main(page: ft.Page):
    stroke_paint = paint = ft.Paint(stroke_width=2, style=ft.PaintingStyle.STROKE)
    fill_paint = paint = ft.Paint(style=ft.PaintingStyle.FILL)
    cp = cv.Canvas(
        [
            cv.Circle(100, 100, 50, stroke_paint),
            cv.Circle(80, 90, 10, stroke_paint),
            cv.Circle(84, 87, 5, fill_paint),
            cv.Circle(120, 90, 10, stroke_paint),
            cv.Circle(124, 87, 5, fill_paint),
            cv.Arc(70, 95, 60, 40, 0, math.pi, paint=stroke_paint),
        ],
        width=float("inf"),
        expand=True,
    )

    page.add(cp)

ft.app(main)
```

<img src="/img/docs/controls/canvas/canvas-face.png" className="screenshot-30"/>

在[docs](/docs/controls/canvas)中阅读有关画布的更多信息，然后探索[canvas 示例](https://github.com/flet-dev/examples/tree/main/python/controls/canvas)！

## 其他更改

### 丰富的文本支持

在处理[13210}上的[绘制文本]作为此版本的奖励时，我们实现了一个新的[`TextSpan`](/docs/controls/text#textspan-properties)控制，现在可以与[`Text.spans`](/docs/controls/text#spans)一起使用，以输出 RICH 文本。

<img src="/img/docs/controls/text/richtext-borders-stroke.png" className="screenshot-60" />

检查丰富的文本示例: [一个] {一个](/docs/controls/text#rich-text-basics)，[两个](/docs/controls/text#rich-text-with-borders-and-stroke)和[三个](/docs/controls/text#rich-text-with-gradient)。

### `url`按钮的属性

如果您需要通过单击一个使用`on_click`事件的按钮或任何其他控件打开 URL，则可以在`url`中提供该 URL，而不是在代码中使用[`page.launch_url()`](/docs/controls/page#launch_urlurl)方法中的 url。

而不是那个:

```python
ft.ElevatedButton("Go to Google", on_click=lambda e: e.page.launch_url("https://google.com"))
```

您可以做到这一点:

```python
ft.ElevatedButton("Go to Google", url="https://google.com")
```

一个新的`url`属性也求解[safari 上的阻止窗口](https://github.com/flet-dev/flet/issues/1105) essue。

作为`url`属性的延续，`Markdown`控制现在可以自动在文档中自动遵循 url:

```python
import flet as ft

md = """
[Go to Google](https://www.google.com)
"""

def main(page: ft.Page):
    page.add(
        ft.Markdown(
            md,
            extension_set=ft.MarkdownExtensionSet.GITHUB_WEB,
            auto_follow_links=True,
        )
    )

ft.app(main)
```

### 更好的 Web 支持

在此版本中，我们还对 Web 支持进行了一些改进 路由。

这就是今天！

升级 Flet 模块到最新版本（`pip install flet -upgrade`），尝试一下画布和丰富的文字，然后[让我们知道](https://discord.gg/dzWXP8SHG8)您的想法！
